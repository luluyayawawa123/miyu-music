# 葱豆的音乐网站 (Miyu Music Player)

一个美观、轻量级的网页音乐播放器，支持拖拽排序、文件上传和管理。

## ✨ 功能特性

-   **优雅的界面**：采用深色玻璃拟态设计（Glassmorphism），视觉体验极佳。
-   **核心播放功能**：支持播放/暂停、上一曲/下一曲、随机播放、列表循环/单曲循环。
-   **拖拽排序**：支持直接拖动播放列表中的歌曲进行排序，且排序状态会自动保存到服务器。
-   **音乐管理**：
    -   支持上传音乐文件（MP3, WAV, OGG, M4A）。
    -   支持删除音乐文件。
    -   **安全保护**：上传和删除操作受密码保护。
-   **可视化效果**：内置音频可视化效果。
-   **元数据解析**：自动解析音频文件的封面、标题、艺术家等信息。

## 🚀 快速开始

### 1. 安装依赖

确保你已经安装了 [Node.js](https://nodejs.org/)。

```bash
npm install
```

### 2. 启动服务器

```bash
node server.js
```

服务器默认运行在 `http://localhost:3337`。

## ⚙️ 配置说明

### 修改管理员密码 (重要！)

默认的系统密码用于保护上传和删除音乐的操作。**为了安全起见，请务必修改默认密码。**

1.  打开 `server.js` 文件。
2.  找到以下代码行（约第 10 行）：

```javascript
const SYSTEM_PASSWORD = 'miyu2024'; 
```

3.  将 `'miyu2024'` 修改为你想要的密码。

### 音乐文件存储

-   所有上传的音乐文件存储在 `music/` 目录下。
-   播放列表的顺序信息存储在 `music/playlist.json` 中。

## 📂 项目结构

-   `server.js`: 后端服务器入口，处理 API 请求和文件管理。
-   `index.html`: 前端主页面。
-   `js/`: 前端脚本文件。
    -   `app.js`: 主要业务逻辑，包括播放列表渲染、交互处理。
    -   `custom-player.js`: 播放器控制条的逻辑。
-   `css/`: 样式文件。
-   `music/`: 存放音乐文件和播放列表数据。

## 📝 注意事项

-   本项目默认忽略了 `music/` 目录下的音频文件提交到 Git，但保留了 `playlist.json`。如果你克隆了此仓库，初始状态下播放列表可能是空的或包含无效引用，请自行上传音乐。

---
&copy; 2024 葱豆SAMA
